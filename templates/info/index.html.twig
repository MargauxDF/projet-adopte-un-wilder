{% extends 'base.html.twig' %}

{% block title %}Vos infos{% endblock %}

{% block body %}

    <div class="container my-5">
        <div class="table-experience">
            <h2 class="text-center mb-4">Vos Infos</h2>
            {% for message in app.flashes('success') %}
                <div class="alert alert-success">
                    {{ message }}
                </div>
            {% endfor %}
            {% for message in app.flashes('delete-success') %}
                <div class="alert alert-danger">
                    {{ message }}
                </div>
            {% endfor %}
            <table class="table table-hover table-bordered">
                <thead>
                <tr>
                    <th class="align-middle" scope="col" style="width: 18%">Prénom</th>
                    <th class="align-middle" scope="col" style="width: 15%">Nom</th>
                    <th class="align-middle" scope="col">Email</th>
                    <th class="align-middle" scope="col" style="width: 10%">Présentation</th>
                    <th class="align-middle" scope="col" style="width: 13%">Photo</th>
                    <th class="align-middle" scope="col" style="width: 13%">Lien Linkedin</th>
                    <th class="align-middle" scope="col" style="width: 13%">Lien Github</th>
                    <th class="align-middle" scope="col" style="width: 13%">Lien Twitter</th>
                    <th class="align-middle" scope="col" style="width: 13%">Lien Portfolio</th>
                </tr>
                </thead>
                <tbody>
                {% if app.user %}
                    <tr>
                        <td class="align-middle">{{ app.user.firstname }}</td>
                        <td class="align-middle">{{ app.user.lastname }}</td>
                        <td class="align-middle">{{ app.user.email }}</td>
                        <td class="align-middle">{{ app.user.presentation }}</td>
                        <td class="align-middle">{{ app.user.picture }} </td>
                        <td class="align-middle">{{ app.user.linkedin }} </td>
                        <td class="align-middle">{{ app.user.github }} </td>
                        <td class="align-middle">{{ app.user.twitter }} </td>
                        <td class="align-middle">{{ app.user.portfolio }} </td>
                        <td class="align-middle d-flex"><a class="btn btn-primary px-3 mx-3" href="{{ path("info_edit", {id: app.user.id}) }}"><i class="far fa-edit"></i></a>
                            {{ include('info/_form_delete.html.twig') }}
                        </td>
                    </tr>
                {% endif %}
                </tbody>
            </table>
        </div>
        <hr>
        <div class="form-experience w-75 mx-auto">
            <h2 class="text-center mt-5">Mettre à jour mes infos</h2>
            {{ form_start(form) }}
            {{ form_widget(form) }}
            <button class="btn btn-primary" type="submit">Sauvegarder</button>
            {{ form_end(form) }}
        </div>
    </div>


{% endblock %}
